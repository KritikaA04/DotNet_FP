("YourDropDownName", (IEnumerable<SelectListItem>)ViewBag.MySelectList, "Select an item")


using Microsoft.AspNetCore.Mvc;
// using Microsoft.EntityFrameworkCore;
using flightbooking.Models;

namespace flightbooking.Controllers
{
    public class CustomerController : Controller
    {
        readonly Ace52024Context db;
        // public CustomerController(Ace52024Context _db)
        // {
        //     db=_db;
        // }
        private readonly ISession session;
        public CustomerController(Ace52024Context _db, IHttpContextAccessor httpContextAccessor)
        {
            db = _db;
            session = httpContextAccessor.HttpContext.Session;
        }

        public ActionResult RegisterCustomer()
        {
            return View();
        }
        [HttpPost]
        public ActionResult RegisterCustomer(KritikaCustomer cs)
        {
            db.KritikaCustomers.Add(cs);
            db.SaveChanges();
            return RedirectToAction("Login");
        }

        public IActionResult Login()
        {
            return View();
        }

        [HttpPost]
        public IActionResult Login(KritikaCustomer cs)
        {
            var res= (from i in db.KritikaCustomers
                    where i.CustomerEmail== cs.CustomerEmail && i.Cpassword== cs.Cpassword
                    select i).SingleOrDefault();
            TempData["cloc"]= cs.Loc;
            if(res!=null)
            {
                // if(res.CustomerName=="Admin")
                // {
                //     HttpContext.Session.SetString("customer",res.CustomerName);
                //     return RedirectToAction("AllBookings","Booking");
                // }
                // else
                // {
                    HttpContext.Session.SetString("customer",res.CustomerName);
                    return RedirectToAction("DisplayFlights");
                // }
                
            }
            else
            {
                return RedirectToAction("RegisterCustomer");
            }
            
        }

        public ActionResult DisplayFlights()
        {
            
            var res = db.KritikaFlights.Select(x=> x.Source == TempData["cloc"]).ToList();
            // List<KritikaFlight> dis= res;

            return ViewBag(res);
        }

        public IActionResult AdminLogin()
        {
            return View();
        }

        [HttpPost]
        public IActionResult AdminLogin(KritikaCustomer cs)
        {
            var res= (from i in db.KritikaCustomers
                    where i.CustomerEmail== cs.CustomerEmail && i.Cpassword== cs.Cpassword
                    select i).SingleOrDefault();
            if(res!=null && res.CustomerName=="Admin")
            {
                HttpContext.Session.SetString("customer",res.CustomerName);
                return RedirectToAction("AllBookings","Booking");
            }
            else
            {
                return RedirectToAction("AdminLogin");
            }
        }

        public IActionResult Logout()
        {
            HttpContext.Session.Clear();
            return RedirectToAction("Login");
        }

        // public ActionResult ChooseFlight()
        // {
        //     return View();
        // }

        // [HttpPost]
        // public ActionResult ChooseFlight(KritikaFlight kf)
        // {
        //     // var res= (from i in db.
        //     //         where i.
        //     //         select i)

        //     return RedirectToAction("");
        // }

    }

}
InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[System.Boolean]', but this ViewDataDictionary instance requires a model item of type 'System.Collections.Generic.IEnumerable`1[flightbooking.Models.KritikaFlight]'.


 public ActionResult Book()
        {
            // KritikaBooking kb= db.KritikaBookings.Where(x=> x.FlightId == id).SingleOrDefault();
            var vr= db.KritikaFlights.ToList();
            ViewBag.fdet = new SelectList(vr, "FlightId","FlightName");
            return View();
        }
        [HttpPost]
        public ActionResult Book(KritikaBooking kb)
        {    
            db.KritikaBookings.Add(kb);
            var ftid= db.KritikaFlights.FirstOrDefault(x=>x.FlightId==kb.FlightId);
            decimal? ftcharge= ftid.Price;
            decimal total= decimal.Parse(kb.NoOfPassengers) * ftcharge;
            db.SaveChanges();
            // KritikaFlight kf= db.KritikaFlights.Where(x=> x.FlightId == id).SingleOrDefault();
            // decimal finalcost = 
            return RedirectToAction("Payment");
        }


KritikaBooking booking = new KritikaBooking
        {
            FlightId = flightId,
            CustomerId = customerId,
            DateOfTravel = dateOfTravel,
            NoOfPassengers = noOfPassengers,
            TotalPrice = totalPrice
        };

        // Add booking to database
        db.KritikaBookings.Add(booking);
        db.SaveChanges();
